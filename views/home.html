<!doctype HTML>
<head>
    <title>All Projects Snapshot</title>
	
	<!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    
</head>

<body>
  
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
            <a class="navbar-brand" href="/">The Liqui Intranet App Database Thing</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Home</a></li>
                    <li><a href='/api'>API</a></li>
                        <!--
                        <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Dev <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                        <li><a href="/">View Dev Summary</a></li>
                        <li><a href="#">Add Dev Project</a></li>
                        </ul>
                        </li>
                        <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Digi <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                        <li><a href="/">View Retainer Summary</a></li>
                        <li><a href="#">Add Retainer Project</a></li>
                        </ul>
                        </li>
                        -->
                </ul>
            </div>
        </div>
    </nav>
    

<canvas id="lineChart" width="400" height="90%"></canvas> 
	
<div class='row'>
    <div class='container'>
        <div class='col-sm-12' style='text-align:center'>
            <h1>All Projects Snapshot</h1>
            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#snapshotModal">Add Record</button>
            <hr>
            <section class="allProjectsSnapshot" style='text-align: left'>
				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th>Type</th>
							<th>Client</th>
							<th>Project Number</th>
							<th>Invoice Number</th>
							<th>Invoice Amount</th>
							<th>Archived Year</th>
							<th>Archived Yr/Mo</th>
							<th>Profit Margin</th>
							<th>Hours Logged</th>
							<th>Velocity</th>
						</tr>
					</thead>
					<tbody>
						{% for project in projects %}
							<tr>
								<td><a href='/type?type={{project.type}}'>{{project.type}}</a></td>
								<td><a href='/client?client={{project.client}}'>{{ project.client }}</a></td>
								<td><a href='/projectNum?projectNum={{project.projectNum}}'>{{project.projectNum}}</a></td>
								<td>{{ project.invoiceNum }}</td>
								<td>{{ project.invoice }}</td>
								<td><a href='/archivedYear?archivedYear={{project.archivedYear}}'>{{project.archivedYear}}</a></td>
								<td><a href='/archivedDate?archivedDate={{project.archivedDate}}'>{{project.archivedDate}}</a></td>
								<td>{{project.profitMargin}}</td>
								<td>{{project.hoursLogged}}</td>
								<td>{{project.velocity}}</td>
							</tr>
						{% else %}
							<tr>
								<td>No Projects Found</td>		
							</tr>
						{% endfor %}
						
					</tbody>
				</table>
            </section>		

                <!-- Modal -->
                <div class="modal fade" id="snapshotModal" role="dialog">
                    <div class="modal-dialog">

                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Add Record</h4>
                            </div>
                        <div class="modal-body">
                            <form role="form" action="/add_conf" method="POST">
                               <div class="form-group">
                                    <label for="type">* Type:</label>
                                        <select name='type'>
                                            <option value='retainer'>retainer</option>
                                            <option value='retainer'>sow</option>
                                            <option value='retainer'>proposal</option>
                                        </select>
<!--                                    <input type="type" name="type" value="" class="form-control" id="type">-->
                                </div>
                                <div class="form-group">
                                    <label for="client">* Client:</label>
                                    <input type="text" name="client" value="" class="form-control" id="client">
                                </div>
                                <div class="form-group">
                                    <label for="projectNum">* Project Number:</label>
                                    <input type="number" name="projectNum" value="" class="form-control" id="projectNum">
                                </div>
                                <div class="form-group">
                                    <label for="invoice">* Invoice Number (ex: _12):</label>
                                    <input type="number" name="invoiceNum" value="" class="form-control" id="invoiceNum">
                                </div>
								<div class="form-group">
                                    <label for="invoice">* Invoice Amount:</label>
                                    <input type="double" name="invoice" value="" class="form-control" id="invoice">
                                </div>
                                <div class="form-group">
                                    <label for="archivedYear">* Archived/Recorded Year (ex: 2016):</label>
                                    <input type="number" name="archivedYear" value="" class="form-control" id="archivedYear">
                                </div>
                                <div class="form-group">
                                    <label for="archivedDate">* Archived/Recorded Date (ex: 201606):</label>
                                    <input type="number" name="archivedDate" value="" class="form-control" id="archivedDate">
                                </div>
                                <div class="form-group">
                                    <label for="profitMargin">Profit Margin:</label>
                                    <input type="double" name="profitMargin" value="" class="form-control" id="profitMargin">
                                </div>
                                <div class="form-group">
                                    <label for="hoursLogged">Hours Logged:</label>
                                    <input type="double" name="hoursLogged" value="" class="form-control" id="hoursLogged">
                                </div>
                                <div class="form-group">
                                    <label for="velocity">Velocity:</label>
                                    <input type="number" name="velocity" value="" class="form-control" id="velocity">
                                </div>
								
                            <button type="submit" class="btn btn-default">Submit</button>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                        </div>

                    </div>
                </div>
		</div>
    </div>
</div>


	
   
	
    
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
	
	<!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    

	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.6/Chart.min.js"></script>
	<script>
		const CHART = document.getElementById("lineChart");

		let lineChart = new Chart(CHART, {
			type: 'line',
			data: {
			labels: ["January", "February", "March", "April", "May", "June", "July"],
			datasets: [
				{
					label: "Profit Margin",
					fill: false,
					lineTension: 0.1,
					backgroundColor: "rgba(75,192,192,0.4)",
					borderColor: "rgba(75,192,192,1)",
					borderCapStyle: 'butt',
					borderDash: [],
					borderDashOffset: 0.0,
					borderJoinStyle: 'miter',
					pointBorderColor: "rgba(75,192,192,1)",
					pointBackgroundColor: "#fff",
					pointBorderWidth: 1,
					pointHoverRadius: 5,
					pointHoverBackgroundColor: "rgba(75,192,192,1)",
					pointHoverBorderColor: "rgba(220,220,220,1)",
					pointHoverBorderWidth: 2,
					pointRadius: 1,
					pointHitRadius: 10,
					data: [null, 65, 35, 55, 20, 50, null],
				}
			]	
		 }
		});
	</script>

</body>
	
